<aside class="sidebar sidebar-modern bg-transparent text-white w-64 fixed left-0 z-10 md:transform-none overflow-hidden" style="top: 70px; bottom: 0;">
  <div class="h-full flex flex-col relative">
    <!-- Animated Background -->
    <div class="sidebar-bg absolute inset-0 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 opacity-95 backdrop-blur-lg"></div>
    <div class="sidebar-overlay absolute inset-0 bg-gradient-to-r from-green-600 via-transparent to-blue-600 opacity-20"></div>
    
    <!-- Floating particles -->
    <div class="sidebar-particles absolute inset-0 overflow-hidden">
      <div class="particle particle-1"></div>
      <div class="particle particle-2"></div>
      <div class="particle particle-3"></div>
      <div class="particle particle-4"></div>
    </div>
    
    <!-- Header Section -->
    <div class="sidebar-header relative z-10 p-6 border-b border-white border-opacity-20">
      <div class="flex items-center space-x-3 mb-4">
        <div class="w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-xl flex items-center justify-center shadow-lg">
          <i class="fas fa-table-tennis text-white text-lg"></i>
        </div>
        <div>
          <h3 class="font-bold text-lg text-white">Navigation</h3>
          <p class="text-green-200 text-xs opacity-80">Quick Access Menu</p>
        </div>
      </div>
    </div>

    <!-- Navigation Content -->
    <div class="flex-1 overflow-y-auto relative z-10 p-4">
      <nav class="space-y-3">
        <!-- State Association Dropdown -->
        <div class="nav-item-wrapper">
          <div class="state-association-dropdown">
            <button id="state-association-toggle" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 w-full text-left">
              <div class="nav-icon bg-amber-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
                <i class="fas fa-map text-amber-400 group-hover:text-white text-lg"></i>
              </div>
              <div class="flex-1">
                <div class="font-semibold text-white group-hover:text-amber-100">State Association</div>
                <div class="text-gray-400 text-xs group-hover:text-amber-200">Regional chapters</div>
              </div>
              <i class="fas fa-chevron-down text-gray-500 group-hover:text-white transition-all duration-300 transform state-association-arrow" id="state-association-arrow"></i>
            </button>
            
            <!-- State Association Submenu -->
            <div id="state-association-menu" class="submenu-container mt-2 ml-6 space-y-2 hidden transition-all duration-500 ease-in-out">
              <a href="/sarawak-pickleball-association" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-star text-amber-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-amber-200">Sarawak Pickleball Association</div>
                  <div class="text-xs text-gray-500 group-hover:text-amber-300">Sarawak state chapter</div>
                </div>
              </a>
            </div>
          </div>
        </div>

        <!-- Tournament Section -->
        <div class="nav-item-wrapper">
          <a href="/tournament" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-green-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-trophy text-green-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-green-100">Tournament</div>
              <div class="text-gray-400 text-xs group-hover:text-green-200">View competitions</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Referee Section -->
        <div class="nav-item-wrapper">
          <a href="/referee" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-red-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-user-tie text-red-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-red-100">Referee</div>
              <div class="text-gray-400 text-xs group-hover:text-red-200">Certified officials</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Coaches Section -->
        <div class="nav-item-wrapper">
          <a href="/coaches" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-blue-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-chalkboard-teacher text-blue-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-blue-100">Coaches</div>
              <div class="text-gray-400 text-xs group-hover:text-blue-200">Professional trainers</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Venue Section -->
        <div class="nav-item-wrapper">
          <a href="/venue" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-purple-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-map-marker-alt text-purple-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-purple-100">Venue</div>
              <div class="text-gray-400 text-xs group-hover:text-purple-200">Court locations</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Ranking Section -->
        <div class="nav-item-wrapper">
          <a href="/services/ranking" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-yellow-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-chart-line text-yellow-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-yellow-100">Ranking</div>
              <div class="text-gray-400 text-xs group-hover:text-yellow-200">Player standings</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Shop Section -->
        <div class="nav-item-wrapper">
          <a href="/shop" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 hover:translate-x-2">
            <div class="nav-icon bg-orange-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
              <i class="fas fa-shopping-cart text-orange-400 group-hover:text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <div class="font-semibold text-white group-hover:text-orange-100">Shop</div>
              <div class="text-gray-400 text-xs group-hover:text-orange-200">Equipment & merchandise</div>
            </div>
            <i class="fas fa-chevron-right text-gray-500 group-hover:text-white transition-all duration-300 transform group-hover:translate-x-1"></i>
          </a>
        </div>

        <!-- Services Dropdown -->
        <div class="nav-item-wrapper">
          <div class="services-dropdown">
            <button id="services-toggle" class="nav-item group flex items-center p-4 rounded-2xl transition-all duration-300 hover:bg-white hover:bg-opacity-10 hover:shadow-xl transform hover:scale-105 w-full text-left">
              <div class="nav-icon bg-indigo-500 bg-opacity-20 p-3 rounded-xl mr-4 group-hover:bg-opacity-100 group-hover:scale-110 transition-all duration-300">
                <i class="fas fa-cogs text-indigo-400 group-hover:text-white text-lg"></i>
              </div>
              <div class="flex-1">
                <div class="font-semibold text-white group-hover:text-indigo-100">Services</div>
                <div class="text-gray-400 text-xs group-hover:text-indigo-200">Additional resources</div>
              </div>
              <i class="fas fa-chevron-down text-gray-500 group-hover:text-white transition-all duration-300 transform services-arrow" id="services-arrow"></i>
            </button>
            
            <!-- Services Submenu -->
            <div id="services-menu" class="submenu-container mt-2 ml-6 space-y-2 hidden transition-all duration-500 ease-in-out">
              <a href="/services/sponsorship" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-handshake text-orange-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-orange-200">Sponsorship</div>
                  <div class="text-xs text-gray-500 group-hover:text-orange-300">Partnership opportunities</div>
                </div>
              </a>
              
              <a href="/services/registration" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-calendar-plus text-green-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-green-200">Event Organization</div>
                  <div class="text-xs text-gray-500 group-hover:text-green-300">Organize tournaments</div>
                </div>
              </a>
              
              <a href="/services/requirement-approval" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-check-circle text-blue-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-blue-200">Approval Requirements</div>
                  <div class="text-xs text-gray-500 group-hover:text-blue-300">Event approval process</div>
                </div>
              </a>
              
              <a href="/services/requirement-bidding" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-gavel text-purple-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-purple-200">Bidding Requirements</div>
                  <div class="text-xs text-gray-500 group-hover:text-purple-300">Bidding guidelines</div>
                </div>
              </a>
              
              <div class="border-t border-white border-opacity-10 my-2"></div>
              
              <a href="/services/section-33" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-file-alt text-red-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-red-200">Section 33 (Act 576)</div>
                  <div class="text-xs text-gray-500 group-hover:text-red-300">Legal requirements</div>
                </div>
              </a>
              
              <a href="/services/section-34" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-file-contract text-pink-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-pink-200">Section 34 (Act 576)</div>
                  <div class="text-xs text-gray-500 group-hover:text-pink-300">Compliance requirements</div>
                </div>
              </a>
              
              <a href="/services/section-36" class="submenu-item flex items-center p-3 rounded-xl transition-all duration-300 hover:bg-white hover:bg-opacity-5 transform hover:translate-x-2 group opacity-100">
                <i class="fas fa-balance-scale text-cyan-400 mr-3 group-hover:scale-110 transition-transform"></i>
                <div>
                  <div class="text-sm font-medium text-white group-hover:text-cyan-200">Section 36 (Act 576)</div>
                  <div class="text-xs text-gray-500 group-hover:text-cyan-300">Legal framework</div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </nav>
    </div>

    <!-- Footer Section -->
    <div class="sidebar-footer relative z-10 p-4 border-t border-white border-opacity-20">
      <div class="text-center">
        <div class="text-xs text-gray-400 mb-2">Malaysia Pickleball Association</div>
        <div class="flex justify-center space-x-3">
          <i class="fab fa-facebook text-blue-400 hover:text-blue-300 cursor-pointer transition-colors"></i>
          <i class="fab fa-instagram text-pink-400 hover:text-pink-300 cursor-pointer transition-colors"></i>
          <i class="fab fa-twitter text-blue-300 hover:text-blue-200 cursor-pointer transition-colors"></i>
        </div>
      </div>
    </div>
  </div>
</aside>

<style>
  .sidebar-modern {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border-right: 1px solid rgba(255, 255, 255, 0.1);
    top: var(--navbar-height, 70px); /* Align with bottom of navbar */
    bottom: 0; /* Extend to bottom of viewport */
    height: calc(100vh - var(--navbar-height, 70px)); /* Full height minus navbar only */
  }
  
  .sidebar-bg {
    background: linear-gradient(145deg, 
      rgba(17, 24, 39, 0.95) 0%,
      rgba(31, 41, 55, 0.95) 50%,
      rgba(17, 24, 39, 0.95) 100%);
    backdrop-filter: blur(20px);
  }
  
  .particle {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    animation: float-particle 8s ease-in-out infinite;
  }
  
  .particle-1 {
    width: 4px;
    height: 4px;
    background: rgba(34, 197, 94, 0.6);
    top: 20%;
    left: 20%;
    animation-delay: -2s;
  }
  
  .particle-2 {
    width: 6px;
    height: 6px;
    background: rgba(59, 130, 246, 0.4);
    top: 60%;
    right: 20%;
    animation-delay: -4s;
  }
  
  .particle-3 {
    width: 3px;
    height: 3px;
    background: rgba(168, 85, 247, 0.5);
    bottom: 30%;
    left: 30%;
    animation-delay: -6s;
  }
  
  .particle-4 {
    width: 5px;
    height: 5px;
    background: rgba(245, 158, 11, 0.3);
    top: 40%;
    right: 40%;
    animation-delay: -1s;
  }
  
  .nav-item {
    border: 1px solid transparent;
    backdrop-filter: blur(10px);
  }
  
  .nav-item:hover {
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }
  
  .nav-item:active {
    transform: scale(0.98) translateX(2px);
  }
  
  .nav-icon {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }
  
  .submenu-container.expanded {
    max-height: 500px;
  }
  
  .submenu-container.expanded .submenu-item {
    opacity: 1;
    transform: translateX(0);
  }
  
  .services-arrow.rotated {
    transform: rotate(180deg);
  }
  
  .submenu-item {
    transition: all 0.3s ease-out;
  }
  
  .submenu-item:hover {
    background: rgba(255, 255, 255, 0.05);
  }
  
  @keyframes float-particle {
    0%, 100% { transform: translateY(0px) translateX(0px); }
    25% { transform: translateY(-10px) translateX(5px); }
    50% { transform: translateY(0px) translateX(10px); }
    75% { transform: translateY(10px) translateX(5px); }
  }
  
  /* Mobile responsive */
  @media (max-width: 768px) {
    .sidebar-modern,
    .sidebar {
      transform: translateX(-100%);
      z-index: 50;
      top: var(--navbar-height, 70px); /* Align with navbar on mobile */
      bottom: 0; /* Extend to bottom of viewport on mobile */
      height: calc(100vh - var(--navbar-height, 70px)); /* Full height minus navbar only */
    }
    
    .sidebar-modern.open,
    .sidebar.open {
      transform: translateX(0);
    }
    
    .sidebar-modern.open::before,
    .sidebar.open::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: -1;
      animation: fadeIn 0.3s ease-in-out;
    }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  /* Custom scrollbar */
  .sidebar-modern .flex-1::-webkit-scrollbar {
    width: 4px;
  }
  
  .sidebar-modern .flex-1::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
  }
  
  .sidebar-modern .flex-1::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 2px;
  }
  
  .sidebar-modern .flex-1::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
  }
</style>

<!-- Include external sidebar JavaScript -->
<script src="/js/sidebar.js"></script>

<style>
  .ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: scale(0);
    animation: rippleEffect 0.6s linear;
    pointer-events: none;
  }
  
  @keyframes rippleEffect {
    to {
      transform: scale(4);
      opacity: 0;
    }
  }
</style>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Tournaments - Malaysia Pickleball Association</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <style>
    .form-container {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }
    
    .form-container::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    }
    
    .form-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      position: relative;
      z-index: 2;
    }
    
    .input-group {
      position: relative;
      margin-bottom: 1.5rem;
    }
    
    .input-field {
      width: 100%;
      padding: 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: white;
    }
    
    .input-field:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      transform: translateY(-2px);
    }
    
    .input-label {
      position: absolute;
      left: 1rem;
      top: 1rem;
      color: #6b7280;
      font-size: 1rem;
      transition: all 0.3s ease;
      pointer-events: none;
      background: white;
      padding: 0 0.5rem;
    }
    
    .input-field:focus + .input-label,
    .input-field:not(:placeholder-shown) + .input-label {
      top: -0.5rem;
      left: 0.75rem;
      font-size: 0.875rem;
      color: #667eea;
      font-weight: 600;
    }
    
    .month-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.75rem;
      margin-top: 1rem;
    }
    
    .month-checkbox {
      position: relative;
      cursor: pointer;
    }
    
    .month-checkbox input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
    }
    
    .month-label {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem;
      background: #f8fafc;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .month-label::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .month-checkbox:hover .month-label::before {
      left: 100%;
    }
    
    .month-checkbox input:checked + .month-label {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-color: #667eea;
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }
    
    .month-checkbox:hover .month-label {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.1rem;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    

    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
    }
    
    .tournament-card {
      background: white;
      border-radius: 8px;
      padding: 0.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      border: 1px solid #f1f5f9;
      position: relative;
      overflow: hidden;
      font-size: 0.875rem;
    }
    
    /* Edit/Delete button styles removed */
    
    /* View All Tournaments button styling */
    a[href="/admin/tournaments/view-all"] {
      position: relative;
      overflow: hidden;
    }
    
    a[href="/admin/tournaments/view-all"]:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    
    /* Tournament count badge pulse effect */
    a[href="/admin/tournaments/view-all"] span:last-child {
      animation: subtle-pulse 2s infinite;
    }
    
    @keyframes subtle-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .page-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem;
      border-radius: 20px;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }
    
    .page-header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    }
    
    .header-content {
      position: relative;
      z-index: 2;
    }
    
    .date-range-indicator {
      background: rgba(16, 185, 129, 0.1);
      border: 2px solid #10b981;
      border-radius: 10px;
      padding: 0.75rem;
      margin-top: 1rem;
      display: none;
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
         .success-notification {
       position: fixed;
       top: 100px;
       right: 20px;
       background: rgba(16, 185, 129, 0.95);
       backdrop-filter: blur(10px);
       color: white;
       padding: 1rem 1.5rem;
       border-radius: 12px;
       box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
       z-index: 10000;
       transform: translateX(400px);
       opacity: 0;
       transition: all 0.3s ease;
       border: 1px solid rgba(255, 255, 255, 0.2);
       max-width: 400px;
     }
     
     .success-notification.show {
       transform: translateX(0);
       opacity: 1;
     }
     
     .success-notification::before {
       content: '';
       position: absolute;
       top: 0;
       left: 0;
       right: 0;
       height: 3px;
       background: linear-gradient(90deg, #10b981, #059669);
       border-radius: 12px 12px 0 0;
     }
     
     @media (max-width: 768px) {
       .form-container {
         padding: 0.75rem;
         border-radius: 12px;
       }
       
       .month-grid {
         grid-template-columns: repeat(2, 1fr);
       }
       
       .page-header {
         padding: 1rem;
         text-align: center;
         border-radius: 14px;
         margin: 0.5rem;
         margin-bottom: 1rem;
       }
       
       .page-header h1 {
         font-size: 1.75rem !important;
         margin-bottom: 0.25rem !important;
         line-height: 1.1;
       }
       
       .page-header p {
         font-size: 0.875rem !important;
         opacity: 0.8 !important;
         margin-bottom: 0.75rem;
       }
       
       .header-content {
         gap: 0.75rem !important;
       }
       
       .header-content > div:last-child {
         width: 100%;
         gap: 0.5rem !important;
       }
       
       a[href="/admin/tournaments/view-all"] {
         width: 100% !important;
         justify-content: center !important;
         padding: 0.75rem 1rem !important;
         font-size: 0.875rem !important;
         border-radius: 10px !important;
         box-shadow: 0 3px 8px rgba(0, 0, 0, 0.12) !important;
         text-decoration: none !important;
       }
       
       
       a[href="/admin/tournaments/view-all"] span:last-child {
         margin-left: auto !important;
         padding: 0.375rem 0.625rem !important;
         font-size: 0.75rem !important;
       }
       
       .page-header a[href="/admin/dashboard"] {
         width: 100% !important;
         justify-content: center !important;
         padding: 0.75rem 1rem !important;
         font-size: 0.875rem !important;
         border-radius: 10px !important;
         box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08) !important;
         background-color: rgba(255, 255, 255, 0.15) !important;
         border: 1px solid rgba(255, 255, 255, 0.2) !important;
       }
       
       .tournament-card {
         padding: 0.75rem;
       }
       
       .success-notification {
         right: 10px;
         left: 10px;
         max-width: none;
         transform: translateY(-100px);
       }
       
       .success-notification.show {
         transform: translateY(0);
       }
       
       main.p-4 {
         padding: 0.5rem !important;
       }
       
       .form-container {
         margin: 0.5rem !important;
         margin-bottom: 1rem !important;
       }
       
       .form-card {
         border-radius: 12px !important;
         padding: 0.75rem !important;
       }
       
       .form-card h2 {
         font-size: 1.25rem !important;
         margin-bottom: 1rem !important;
         line-height: 1.2;
       }
       
       .form-card h2 span {
         padding: 0.375rem !important;
         margin-right: 0.5rem !important;
       }
       
       /* Compact form styling */
       .input-group {
         margin-bottom: 1rem !important;
       }
       
       .input-field {
         padding: 0.75rem !important;
         font-size: 0.875rem !important;
         border-radius: 8px !important;
       }
       
       .input-label {
         font-size: 0.75rem !important;
         padding: 0 0.375rem !important;
       }
       
       .btn-primary {
         padding: 0.75rem 1.5rem !important;
         font-size: 0.875rem !important;
         border-radius: 8px !important;
       }
       
       /* Compact grid layout */
       .grid.gap-6 {
         gap: 0.75rem !important;
       }
       
       /* Enhanced button hover effects for mobile */
       a[href="/admin/tournaments/view-all"]:active {
         transform: scale(0.98) !important;
         transition: transform 0.1s ease !important;
       }
       
       .page-header a[href="/admin/dashboard"]:active {
         transform: scale(0.98) !important;
         transition: transform 0.1s ease !important;
       }
       
       /* Improved visual hierarchy */
       .container {
         max-width: 100% !important;
         padding: 0 !important;
       }

     }

  </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100 min-h-screen">
  
  <main class="p-4 pb-20">
    <div class="container mx-auto max-w-6xl">
      <!-- Page Header -->
      <div class="page-header">
        <div class="header-content flex flex-col md:flex-row justify-between items-start md:items-center">
          <div>
            <h1 class="text-4xl font-bold mb-2">🏆 View Tournaments</h1>
            <p class="text-lg opacity-90">View tournaments managed through MPA Portal</p>
          </div>
          <div class="flex flex-col md:flex-row gap-3 mt-4 md:mt-0">
            <div class="bg-white bg-opacity-20 text-white px-6 py-3 rounded-xl font-semibold backdrop-filter backdrop-blur-sm flex items-center">
              <span>Total Tournaments:</span>
              <span class="ml-2 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg"><%= tournaments.length %></span>
            </div>
            <a href="/admin/dashboard" class="bg-white bg-opacity-20 text-white px-6 py-3 rounded-xl hover:bg-opacity-30 transition-all duration-300 font-semibold backdrop-filter backdrop-blur-sm">
              ← Back to Dashboard
            </a>
          </div>
        </div>
      </div>

      <!-- Sync Status Dashboard -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-200">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-gray-800 flex items-center">
            <span class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-2 rounded-lg mr-3">📊</span>
            Tournament Visibility Status
          </h2>
          <div class="flex space-x-4">
            <div class="bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold">
              Live: <%= visibilityStats.live %>
            </div>
            <div class="bg-gray-100 text-gray-800 px-4 py-2 rounded-lg font-semibold">
              Draft: <%= visibilityStats.draft %>
            </div>
            <div class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded-lg font-semibold">
              Ready: <%= visibilityStats.ready %>
            </div>
            <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-lg font-semibold">
              Total: <%= visibilityStats.total %>
            </div>
          </div>
        </div>

        <!-- Draft Tournaments (if any) -->
        <% if (draftTournaments && draftTournaments.length > 0) { %>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
              <span class="w-3 h-3 bg-gray-500 rounded-full mr-2"></span>
              Draft Tournaments (<%= draftTournaments.length %>)
            </h3>
            <div class="space-y-3">
              <% draftTournaments.forEach(tournament => { %>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <div class="flex justify-between items-start">
                    <div class="flex-1">
                      <h4 class="font-semibold text-gray-800"><%= tournament.name %></h4>
                      <div class="mt-2 space-y-1">
                        <!-- Status checks -->
                        <div class="flex space-x-4 text-sm">
                          <span class="flex items-center <%= tournament.portalApplicationId ? 'text-green-600' : 'text-red-600' %>">
                            <%= tournament.portalApplicationId ? '✅' : '❌' %> Portal ID
                          </span>
                          <span class="flex items-center <%= tournament.phoneNumber ? 'text-green-600' : 'text-red-600' %>">
                            <%= tournament.phoneNumber ? '✅' : '❌' %> Phone
                          </span>
                          <span class="flex items-center <%= tournament.venue ? 'text-green-600' : 'text-red-600' %>">
                            <%= tournament.venue ? '✅' : '❌' %> Venue
                          </span>
                          <span class="flex items-center <%= tournament.organizer ? 'text-green-600' : 'text-red-600' %>">
                            <%= tournament.organizer ? '✅' : '❌' %> Organizer
                          </span>
                        </div>
                        <p class="text-xs text-gray-500">
                          Visibility: <span class="font-semibold capitalize"><%= tournament.visibility || 'live' %></span>
                        </p>
                      </div>
                    </div>
                    <div class="ml-4">
                      <div class="bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-xs font-semibold">
                        READY TO PUBLISH
                      </div>
                    </div>
                  </div>
                </div>
              <% }) %>
            </div>
          </div>
        <% } %>

        <!-- Legend -->
        <div class="bg-gray-50 rounded-lg p-4">
          <h4 class="text-sm font-semibold text-gray-700 mb-2">Status Legend:</h4>
          <div class="flex flex-wrap gap-4 text-sm">
            <div class="flex items-center">
              <span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>
              <span class="text-gray-600"><strong>Live:</strong> Complete tournaments visible to users</span>
            </div>
            <div class="flex items-center">
              <span class="w-3 h-3 bg-gray-500 rounded-full mr-2"></span>
              <span class="text-gray-600"><strong>Draft:</strong> Tournaments not yet ready for public view</span>
            </div>
            <div class="flex items-center">
              <span class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></span>
              <span class="text-gray-600"><strong>Ready:</strong> Complete tournaments awaiting approval</span>
            </div>
          </div>
          <p class="text-xs text-gray-500 mt-2">
            💡 Admins can manually control tournament visibility using the simple status system.
          </p>
        </div>
      </div>

      <!-- Live Tournaments -->
      <div id="tournamentsSection" class="mt-8">
        <h2 class="text-3xl font-bold mb-6 text-gray-800 flex items-center">
          <span class="bg-gradient-to-r from-green-500 to-blue-500 text-white p-2 rounded-lg mr-3">📋</span>
          Live Tournaments (<%= tournaments.length %>)
        </h2>
        
        <% if (tournaments.length) { %>
          <div class="grid grid-cols-3 gap-4">
            <% tournaments.forEach((tournament, index) => { %>
              <div class="tournament-card" data-tournament-id="<%= tournament._id %>">
                <div class="flex justify-between items-start mb-2">
                  <h3 class="text-lg font-bold text-gray-800 flex-1"><%= tournament.name %></h3>
                  <span class="px-3 py-1 rounded-full text-xs font-semibold
                    <%= tournament.type === 'local' ? 'bg-green-100 text-green-800' : 
                        tournament.type === 'state' ? 'bg-red-100 text-red-800' : 
                        tournament.type === 'national' ? 'bg-blue-100 text-blue-800' : 
                        tournament.type === 'international' ? 'bg-orange-100 text-orange-800' :
                        'bg-gray-100 text-gray-800' %>">
                    <%= tournament.type ? tournament.type.toUpperCase() : 'GENERAL' %>
                  </span>
                </div>
                
                <div class="space-y-2 mb-3">
                  <!-- Portal ID Display -->
                  <% if (tournament.portalApplicationId) { %>
                    <div class="flex items-center text-blue-600 bg-blue-50 p-1.5 rounded border border-blue-200">
                      <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                      </svg>
                      <span class="font-semibold text-xs">Portal ID: <%= tournament.portalApplicationId %></span>
                    </div>
                  <% } else { %>
                    <div class="flex items-center text-orange-600 bg-orange-50 p-1.5 rounded border border-orange-200">
                      <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.856-.833-2.626 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                      </svg>
                      <span class="font-semibold text-xs">No Portal ID - Not synced</span>
                    </div>
                  <% } %>

                  <!-- Tournament Date -->
                  <div class="flex items-center text-gray-600 text-xs">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    <span><%= tournament.startDate ? `${new Date(tournament.startDate).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })} to ${tournament.endDate ? new Date(tournament.endDate).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) : 'TBD'}` : 'Date TBD' %></span>
                  </div>
                  
                  <!-- Location -->
                  <div class="flex items-center text-gray-600 text-xs">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span><%= tournament.venue || 'Venue TBD' %><% if (tournament.city) { %>, <%= tournament.city %><% } %><% if (tournament.state) { %>, <%= tournament.state %><% } %></span>
                  </div>
                  
                  <!-- Organizer -->
                  <div class="flex items-center text-gray-600 text-xs">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                    <span>Organized by: <%= tournament.organizer || 'Not specified' %></span>
                  </div>
                  
                  <!-- Person in Charge -->
                  <div class="flex items-center text-gray-600 text-xs">
                    <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span>Contact: <%= tournament.personInCharge || 'Not specified' %></span>
                  </div>
                  
                  <!-- Phone Number -->
                  <% if (tournament.phoneNumber) { %>
                    <div class="flex items-center text-gray-600 text-xs">
                      <svg class="w-3 h-3 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                      </svg>
                      <span><%= tournament.phoneNumber %></span>
                    </div>
                  <% } %>
                </div>
                
                <% if (tournament.image) { %>
                  <div class="mb-2">
                    <img src="<%= tournament.image %>" alt="Tournament Image" class="w-full h-20 object-cover rounded">
                  </div>
                <% } %>
                
                <!-- Edit and Delete buttons removed -->
              </div>
            <% }) %>
          </div>
        <% } else { %>
          <div class="text-center py-12">
            <div class="text-6xl mb-4">🏆</div>
            <h3 class="text-xl font-semibold text-gray-600 mb-2">No tournaments yet</h3>
            <p class="text-gray-500">Create your first tournament to get started!</p>
          </div>
        <% } %>
      </div>
    </div>
  </main>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Edit Tournament Modal removed -->

  <script src="/js/script.js"></script>
  <%- include('../../partials/footer') %>
  
  <script>
    // Form-related functions removed (no longer needed)
    
    // Delete function removed

     // Helper function to show error messages
     function showErrorMessage(message) {
       const errorDiv = document.createElement('div');
       errorDiv.className = 'fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
       errorDiv.innerHTML = `
         <div class="flex items-center">
           <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
           </svg>
           <span>${message}</span>
         </div>
       `;
       
       document.body.appendChild(errorDiv);
       
       // Animate in
       setTimeout(() => {
         errorDiv.style.transform = 'translateX(0)';
       }, 100);
       
       // Auto remove after 5 seconds
       setTimeout(() => {
         errorDiv.style.transform = 'translateX(full)';
         setTimeout(() => {
           if (errorDiv.parentNode) {
             errorDiv.parentNode.removeChild(errorDiv);
           }
         }, 300);
       }, 5000);
     }
    
         // Initialize all functionality
     document.addEventListener('DOMContentLoaded', function() {
       // View-only page - no form functionality needed
      
      // Tournament toggle functionality removed - now links to view-all page
      
      // Add smooth scroll behavior
       document.documentElement.style.scrollBehavior = 'smooth';
       
       // Add entrance animations
       const cards = document.querySelectorAll('.tournament-card');
       cards.forEach((card, index) => {
         card.style.opacity = '0';
         card.style.transform = 'translateY(20px)';
         setTimeout(() => {
           card.style.transition = 'all 0.5s ease';
           card.style.opacity = '1';
           card.style.transform = 'translateY(0)';
         }, index * 100);
       });
     });
    
    // Malaysia states and cities data
    const malaysiaCities = {
      'Johor': ['Johor Bahru', 'Batu Pahat', 'Muar', 'Kluang', 'Pontian', 'Segamat', 'Kulai', 'Kota Tinggi', 'Mersing', 'Tangkak'],
      'Kedah': ['Alor Setar', 'Sungai Petani', 'Kulim', 'Jitra', 'Baling', 'Langkawi', 'Kuala Kedah', 'Yan', 'Pendang', 'Kubang Pasu'],
      'Kelantan': ['Kota Bharu', 'Kuala Krai', 'Tanah Merah', 'Machang', 'Pasir Mas', 'Tumpat', 'Bachok', 'Jeli', 'Gua Musang', 'Pasir Puteh'],
      'Kuala Lumpur': ['Kuala Lumpur'],
      'Labuan': ['Victoria'],
      'Melaka': ['Melaka Tengah', 'Jasin', 'Alor Gajah'],
      'Negeri Sembilan': ['Seremban', 'Port Dickson', 'Nilai', 'Bahau', 'Tampin', 'Kuala Pilah', 'Rembau', 'Jelebu', 'Jempol'],
      'Pahang': ['Kuantan', 'Temerloh', 'Bentong', 'Raub', 'Jerantut', 'Pekan', 'Kuala Lipis', 'Bera', 'Rompin', 'Maran', 'Cameron Highlands'],
      'Penang': ['George Town', 'Seberang Perai Utara', 'Seberang Perai Tengah', 'Seberang Perai Selatan', 'Timur Laut'],
      'Perak': ['Ipoh', 'Taiping', 'Sitiawan', 'Kampar', 'Teluk Intan', 'Parit Buntar', 'Ayer Tawar', 'Bagan Serai', 'Tanjung Malim', 'Lumut', 'Proton City'],
      'Perlis': ['Kangar', 'Arau', 'Padang Besar'],
      'Putrajaya': ['Putrajaya'],
      'Sabah': ['Kota Kinabalu', 'Sandakan', 'Tawau', 'Lahad Datu', 'Keningau', 'Putatan', 'Donggongon', 'Semporna', 'Kudat', 'Kunak', 'Papar'],
      'Sarawak': ['Kuching', 'Miri', 'Sibu', 'Bintulu', 'Limbang', 'Sarikei', 'Sri Aman', 'Kapit', 'Samarahan', 'Bau', 'Mukah'],
      'Selangor': ['Shah Alam', 'Petaling Jaya', 'Subang Jaya', 'Klang', 'Ampang', 'Selayang', 'Kajang', 'Seri Kembangan', 'Rawang', 'Sepang', 'Puchong'],
      'Terengganu': ['Kuala Terengganu', 'Kemaman', 'Dungun', 'Marang', 'Hulu Terengganu', 'Setiu', 'Besut', 'Kuala Nerus']
    };

    // Function to populate cities based on selected state
    function populateCities(stateSelect, citySelect, selectedCity = '') {
      const selectedState = stateSelect.value;
      const cities = malaysiaCities[selectedState] || [];
      
      // Clear existing options
      citySelect.innerHTML = '';
      
      if (!selectedState) {
        citySelect.innerHTML = '<option value="">Select State First</option>';
        citySelect.disabled = true;
        citySelect.classList.remove('has-value');
        return;
      }
      
      // Enable city dropdown
      citySelect.disabled = false;
      
      // Add default option
      citySelect.innerHTML = '<option value="">Select City</option>';
      
      // Add cities for selected state
      cities.forEach(city => {
        const option = document.createElement('option');
        option.value = city;
        option.textContent = city;
        if (city === selectedCity) {
          option.selected = true;
        }
        citySelect.appendChild(option);
      });
      
      // Update floating label behavior
      if (citySelect.value) {
        citySelect.classList.add('has-value');
      } else {
        citySelect.classList.remove('has-value');
      }
    }

    // Add floating label behavior for select elements
    document.querySelectorAll('select.input-field').forEach(select => {
      select.addEventListener('change', function() {
        if (this.value) {
          this.classList.add('has-value');
        } else {
          this.classList.remove('has-value');
        }
      });
      
      // Initial check
      if (select.value) {
        select.classList.add('has-value');
      }
    });

    // State-city functionality removed - no form on this page



    // Edit Modal Functions removed

    // Tournament toggle functionality removed - tournaments now displayed on separate page

    // Event listeners for edit/delete buttons removed
  </script>
</body>
</html>
